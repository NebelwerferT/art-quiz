(()=>{var e,t,n,s,a,i,r,o={783:(e,t,n)=>{"use strict";var s=n(618),a=Object.create(null),i="undefined"==typeof document,r=Array.prototype.forEach;function o(){}function c(e,t){if(!t){if(!e.href)return;t=e.href.split("?")[0]}if(l(t)&&!1!==e.isLoaded&&t&&t.indexOf(".css")>-1){e.visited=!0;var n=e.cloneNode();n.isLoaded=!1,n.addEventListener("load",(function(){n.isLoaded||(n.isLoaded=!0,e.parentNode.removeChild(e))})),n.addEventListener("error",(function(){n.isLoaded||(n.isLoaded=!0,e.parentNode.removeChild(e))})),n.href="".concat(t,"?").concat(Date.now()),e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n)}}function d(){var e=document.querySelectorAll("link");r.call(e,(function(e){!0!==e.visited&&c(e)}))}function l(e){return!!/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)}e.exports=function(e,t){if(i)return console.log("no window.document found, will not HMR CSS"),o;var n,u,p=function(e){var t=a[e];if(!t){if(document.currentScript)t=document.currentScript.src;else{var n=document.getElementsByTagName("script"),i=n[n.length-1];i&&(t=i.src)}a[e]=t}return function(e){if(!t)return null;var n=t.split(/([^\\/]+)\.js$/),a=n&&n[1];return a&&e?e.split(",").map((function(e){var n=new RegExp("".concat(a,"\\.js$"),"g");return s(t.replace(n,"".concat(e.replace(/{fileName}/g,a),".css")))})):[t.replace(".js",".css")]}}(e);return n=function(){var e=p(t.filename),n=function(e){if(!e)return!1;var t=document.querySelectorAll("link"),n=!1;return r.call(t,(function(t){if(t.href){var a=function(e,t){var n;return e=s(e,{stripWWW:!1}),t.some((function(s){e.indexOf(t)>-1&&(n=s)})),n}(t.href,e);l(a)&&!0!==t.visited&&a&&(c(t,a),n=!0)}})),n}(e);if(t.locals)return console.log("[HMR] Detected local css modules. Reload all css"),void d();n?console.log("[HMR] css reload %s",e.join(" ")):(console.log("[HMR] Reload all css"),d())},50,u=0,function(){var e=this,t=arguments,s=function(){return n.apply(e,t)};clearTimeout(u),u=setTimeout(s,50)}}},618:e=>{"use strict";e.exports=function(e){if(e=e.trim(),/^data:/i.test(e))return e;var t=-1!==e.indexOf("//")?e.split("//")[0]+"//":"",n=e.replace(new RegExp(t,"i"),"").split("/"),s=n[0].toLowerCase().replace(/\.$/,"");return n[0]="",t+s+n.reduce((function(e,t){switch(t){case"..":e.pop();break;case".":break;default:e.push(t)}return e}),[]).join("/")}},571:(e,t,n)=>{var s=n(783)(e.id,{esModule:!1,locals:!1});e.hot.dispose(s),e.hot.accept(void 0,s)},604:(e,t,n)=>{"use strict";n(571),n(432),n(540),n(549),n(345),n(350),n(369),n(829),n(164),n(21),n(387),n(622),n(458),n(901),n(658);const s=class extends class{static async create(e){return new this(await(await fetch(e)).json())}constructor(e){this.dataContainer=e}get data(){return this.dataContainer}}{static async create(e){if(!this.instance){const t=await super.create(e);this.instance=t}return this.instance}static getByCount(e){const t=10*+e,n=10*(+e+1)-1;return this.instance.data.filter(((e,s)=>s>=t&&s<=n))}static getAnswers(e,t){let n=[];for(;n.length<3;){const s=Math.floor(Math.random()*this.instance.data.length);this.instance.data[s][e]!==t&&n.every((t=>this.instance.data[t][e]!==this.instance.data[s][e]))&&n.push(s)}return n=n.map((t=>this.instance.data[t][e])),n.push(t),n}},a=["Portrait","Landscape","Still Life","Graphic","Antique","Avant-Garde","Renaissance","Surrealism","Kitsch","Minimalism","Avangard","Industrial"],i={volume:50,timeQuiz:!1,timeValue:20};let r={};const o={correct:"./assets/correct-answer.mp3",incorrect:"./assets/incorrect-answer.mp3",roundend:"./assets/round-end.mp3"};window.addEventListener("unload",(()=>{0!==Object.keys(r).length&&localStorage.setItem("savedSettings",JSON.stringify(r))}));const c={async getData(e,t){let n=e;return n=a.findIndex((t=>decodeURIComponent(e)===t.toLowerCase())),"pictures"===t&&(n+=12),await s.create("https://raw.githubusercontent.com/NebelwerferT/image-data/master/data.json"),s.getByCount(n)},getAnswers:async(e,t)=>s.getAnswers(e,t),getCategories:async e=>e?a[e]:a,getDefSettings:async()=>i,async setSettings(e){r=e},getSettings:async()=>(0===Object.keys(r).length&&(r=localStorage.getItem("savedSettings")?JSON.parse(localStorage.getItem("savedSettings")):i),r),getAudio:async()=>o},d=async(e,t,n)=>{const s=t,a=e.getElementsByTagName("img"),i=[];for(let e=0;e<a.length;e+=1)i.push(new Promise((t=>{a[e].onload=()=>{t()}})));return""!==s.innerHTML&&await new Promise((e=>{n?(s.addEventListener("transitionend",(async function n(a){console.log(a.target),console.log(t),a.target===t&&(t.removeEventListener("transitionend",n),s.innerHTML="",s.style.transition="none",t.classList.remove("left-root"),s.style.transition="",t.addEventListener("transitionend",(()=>{e()}),{once:!0}),t.classList.add("right-root"))})),s.classList.add("left-root")):e()})),Promise.all(i).then((()=>{n?(t.appendChild(e),s.classList.remove("right-root")):(t.appendChild(e),e.animate(e.classList.contains("settings-window")?[{transform:"translate3D(0, -1000px, 0)"},{transform:"translate3D(0, 0, 0)"}]:[{transform:"translate3D(-50%, -1000px, 0)"},{transform:"translate3D(-50%, 0, 0)"}],{duration:1e3}))}))},l=function(){const{value:e}=this;this.style.background=`linear-gradient(to right, #FFBCA2 0%, #FFBCA2 ${e}%, #A4A4A4 ${e}%, #A4A4A4 100%)`},u=e=>{const t=e;t.value=0,t.style.background=`linear-gradient(to right, #FFBCA2 0%, #FFBCA2 ${t.value}%, #A4A4A4 ${t.value}%, #A4A4A4 100%)`},p=e=>{const t=e;+t.value+20<=100?t.value=+t.value+20:t.value=100,t.style.background=`linear-gradient(to right, #FFBCA2 0%, #FFBCA2 ${t.value}%, #A4A4A4 ${t.value}%, #A4A4A4 100%)`},m=class{constructor({route:e,name:t,image:n}){this.route=e,this.name=t,this.image=n}getView(){const e=document.createElement("figure"),t=new Image,n=document.createElement("figcaption");e.classList.add("category-desc__container"),t.classList.add("category-image"),t.src=`https://github.com/NebelwerferT/image-data/raw/master/img/${this.image}.jpg`;const s=document.createElement("div");s.classList.add("category-info"),n.classList.add("category-desc");const a=document.createElement("h3");a.classList.add("category-name"),a.innerText=this.name,s.appendChild(a),n.appendChild(s),e.appendChild(t),e.appendChild(n);const i=document.createElement("a");return i.classList.add("category-link"),i.href=`#${this.route}/${this.name.toLowerCase()}`,i.appendChild(e),i}},h=class extends m{constructor({route:e,name:t,image:n},s,a){super({route:e,name:t,image:n}),this.score=s,this.rightAnswers=a}getView(){const e=super.getView.call(this),t=document.createElement("p");t.classList.add("category-score"),t.innerText=this.score;const n=document.createElement("div");n.classList.add("category-stats__container");const s=document.createElement("a");return s.classList.add("category-stats__link"),s.href=`#stats/${this.route}/${this.name.toLowerCase()}`,s.innerText="Stats",n.appendChild(s),e.querySelector(".category-info").appendChild(t),e.querySelector(".category-desc").appendChild(n),e.classList.add("played-category"),e}getRightAnswers(){return this.rightAnswers}},g=class{static create(e){if(this.instance||this.load(),!this.instance){const t={};t.categoriesNames=e,t.categoriesList={},t.routeName="",this.instance=t}}static save(){localStorage.setItem("catPage",JSON.stringify(this.instance))}static load(){if(localStorage.getItem("catPage")){const e=JSON.parse(localStorage.getItem("catPage"));Object.keys(e.categoriesList).forEach((t=>{e.categoriesList[t]=e.categoriesList[t].map((e=>{if(Object.keys(e).length>3){const[t,n,s]=[e.route,e.name,e.image];return new h({route:t,name:n,image:s},e.score,e.rightAnswers)}return new m(e)}))})),this.instance=e}window.addEventListener("unload",(()=>{this.save()}))}static setRouteName(e){this.instance.routeName=e}static fill(){const{categoriesList:e}=this.instance,{routeName:t}=this.instance,{categoriesNames:n}=this.instance;if(!e[t]){e[t]=[];for(let s=0;s<n.length;s+=1)e[t].push(new m({route:t,name:n[s],image:20*s}))}}static updCategoryStatus(e,t,n){let s;s=e.replace(/%20/g," "),s=s.split(" ").map((e=>`${e[0].toUpperCase()}${e.slice(1)}`)).join(" ");const a=this.instance.routeName,i=this.instance.categoriesNames,r=i.indexOf(s);console.log(s),console.log(i),console.log(a),console.log(r),console.log(this.instance.categoriesList[a]),console.log(this.instance.categoriesList[a][r]),console.log(this.instance.categoriesList[a][r]),this.instance.categoriesList[a][r]=new h(this.instance.categoriesList[a][r],t,n)}static getRightAnswers(e){let t;t=e.replace(/%20/g," "),t=t.split(" ").map((e=>`${e[0].toUpperCase()}${e.slice(1)}`)).join(" ");const n=this.instance.routeName,s=this.instance.categoriesNames.indexOf(t);return this.instance.categoriesList[n][s].getRightAnswers()}static getView(){const e=document.createElement("header"),t=new Image;t.classList.add("aq-logo2"),t.src="./assets/aq-logo2.svg",t.alt="aq logo";const n=document.createElement("div"),s=document.createElement("h3");s.classList.add("page-heading"),s.innerText="Categories";const a=document.createElement("div"),i=document.createElement("a"),{routeName:r}=this.instance;n.classList.add("categories-page"),a.classList.add("categories__container"),i.classList.add("home-button"),i.href="#",i.innerText="Home",this.instance.categoriesList[r].forEach((e=>{a.appendChild(e.getView())})),e.appendChild(t),e.appendChild(i),n.appendChild(e),n.appendChild(s),n.appendChild(a);const o=document.createElement("footer"),c=document.createElement("ul");c.classList.add("footer-info__list");const d=document.createElement("li");d.classList.add("footer-info__item"),d.classList.add("rss");const l=document.createElement("a");l.classList.add("rss-link"),l.href="https://rs.school/js/",l.target="_blank";const u=new Image;u.classList.add("rss-logo"),u.src="./assets/rss-logo.svg",u.alt="rss js logo";const p=document.createElement("li");p.classList.add("footer-info__item"),p.classList.add("github");const m=document.createElement("a");m.classList.add("github-link"),m.href="https://github.com/NebelwerferT",m.target="_blank",m.innerText="NebelwerferT";const h=document.createElement("li");return h.classList.add("footer-info__item"),h.classList.add("year"),h.innerText="2021",l.appendChild(u),d.appendChild(l),p.appendChild(m),c.appendChild(d),c.appendChild(p),c.appendChild(h),o.appendChild(c),n.appendChild(o),n}},f=class{static create(e,t,n,s,a){const i={};i.quizType=e,i.audio=a,i.volume=s.volume,i.questionsList=[],t.forEach(((a,r)=>{i.questionsList.push(new class{constructor(e,t,n,s,a){this.quizType=e,this.imageData=t,this.answersData=n,this.timeQuiz=s,this.time=a}getView(){const e="https://github.com/NebelwerferT/image-data/raw/master/img/",t=document.createElement("figure"),n=document.createElement("figcaption"),s=[],a=document.createElement("div"),i=document.createElement("p");let r;i.classList.add("question-text"),i.innerText="artists"===this.quizType?"Кто автор данной картины?":`Какую картину нарисовал ${this.imageData.author}`,"artists"===this.quizType?(r=document.createElement("button"),r.innerText=this.answersData[this.answersData.length-1],r.classList.add("artists-answer")):(r=new Image,r.src=`${e}${this.answersData[this.answersData.length-1]}.jpg`,r.classList.add("pictures-answer")),r.classList.add("right-answer"),r.classList.add("answer__item"),s.push(r);for(let t=0;t<this.answersData.length-1;t+=1){let n;"artists"===this.quizType?(n=document.createElement("button"),n.innerText=this.answersData[t],n.classList.add("artists-answer")):(n=new Image,n.src=`${e}${this.answersData[t]}.jpg`,n.classList.add("pictures-answer")),n.classList.add("answer__item"),s.push(n)}for(let e=s.length-1;e>=0;e-=1){const t=Math.floor(Math.random()*(e+1));[s[e],s[t]]=[s[t],s[e]]}if(t.classList.add("question__item"),"artists"===this.quizType){const n=new Image;n.classList.add("question-image"),n.src=`${e}${this.imageData.imageNum}.jpg`,t.appendChild(n)}if(n.classList.add("answer__container"),s.forEach((e=>{n.appendChild(e)})),t.appendChild(n),a.appendChild(i),this.timeQuiz){const e=document.createElement("div");e.classList.add("timer"),e.innerText=this.time,a.appendChild(e)}return a.appendChild(t),a}}(e,t[r],n[r],s.timeQuiz,s.timeValue))})),this.instance=i}static getView(){const e=document.createElement("div"),t=document.createElement("header"),n=new Image;n.classList.add("aq-logo2"),n.src="./assets/aq-logo2.svg",n.alt="aq logo";const s=document.createElement("a"),a=document.createElement("a"),i=document.createElement("nav"),r=document.createElement("ul");r.classList.add("nav__list");const o=document.createElement("li"),c=document.createElement("li"),d=document.createElement("div"),l=document.createElement("ul");l.classList.add("score__list");for(let e=0;e<this.instance.questionsList.length;e+=1){const e=document.createElement("li");e.classList.add("score__item"),l.appendChild(e)}e.classList.add("question-page"),s.classList.add("home-button"),s.href="#",s.innerText="Home",a.classList.add("categories-button"),a.href=`#${this.instance.quizType}`,a.innerText="Categories",d.classList.add("question__container"),o.appendChild(s),c.appendChild(a),r.appendChild(o),r.appendChild(c),i.appendChild(r),t.appendChild(n),t.appendChild(i),e.appendChild(t),e.appendChild(l),e.appendChild(d),Object.keys(this.instance.audio).forEach((t=>{const n=new Audio(this.instance.audio[t]);n.classList.add(`${t}`),n.volume=+this.instance.volume/100,e.appendChild(n)}));const u=document.createElement("footer"),p=document.createElement("ul");p.classList.add("footer-info__list");const m=document.createElement("li");m.classList.add("footer-info__item"),m.classList.add("rss");const h=document.createElement("a");h.classList.add("rss-link"),h.href="https://rs.school/js/",h.target="_blank";const g=new Image;g.classList.add("rss-logo"),g.src="./assets/rss-logo.svg",g.alt="rss js logo";const f=document.createElement("li");f.classList.add("footer-info__item"),f.classList.add("github");const v=document.createElement("a");v.classList.add("github-link"),v.href="https://github.com/NebelwerferT",v.target="_blank",v.innerText="NebelwerferT";const w=document.createElement("li");return w.classList.add("footer-info__item"),w.classList.add("year"),w.innerText="2021",h.appendChild(g),m.appendChild(h),f.appendChild(v),p.appendChild(m),p.appendChild(f),p.appendChild(w),u.appendChild(p),e.appendChild(u),e}static getQuestion(e){return this.instance.questionsList[e]}},v=class{static create(e,t){const n={};n.imageData=e.imageData,n.right=t,this.instance=n}static getView(){const e=document.createElement("div");e.classList.add("modal-window");const t=document.createElement("figure");t.classList.add("mw__wrapper");const n=new Image;n.classList.add("mw-image"),n.src=`https://github.com/NebelwerferT/image-data/raw/master/full/${this.instance.imageData.imageNum}full.jpg`;const s=document.createElement("div");s.classList.add("image__wrp");const a=document.createElement("div");a.classList.add("right"),a.classList.add(this.instance.right?"right-true":"right-false");const i=document.createElement("figcaption");i.classList.add("mw-desc");const r=document.createElement("h3");r.classList.add("mw-name"),r.innerText=this.instance.imageData.name;const o=document.createElement("p");o.classList.add("mw-author-year"),o.innerText=`${this.instance.imageData.author}, ${this.instance.imageData.year}`;const c=document.createElement("button");return c.classList.add("next-button"),c.innerText="Next",s.appendChild(n),s.appendChild(a),i.appendChild(r),i.appendChild(o),t.appendChild(s),t.appendChild(i),e.appendChild(t),e.appendChild(c),document.createElement("div").classList.add("overlay"),e}},w=class{static create(e,t,n){this.rightAnswersCount=e,this.questionsCount=t,this.categoryType=n}static getView(){const e=document.createElement("div");e.classList.add("round-result");const t=document.createElement("div");t.classList.add("cup-image");const n=document.createElement("h3");n.classList.add("info-text"),n.innerText="Ваш счёт:";const s=document.createElement("p");s.classList.add("round-score"),s.innerText=`${this.rightAnswersCount}/${this.questionsCount}`;const a=document.createElement("a");return a.classList.add("next-to-category-button"),a.href=`#${this.categoryType}`,a.innerText="Next",e.appendChild(t),e.appendChild(n),e.appendChild(s),e.appendChild(a),e}},y=class{static create(e,t,n){this.quizType=e,this.rightAnswers=t,this.imageData=n}static getView(){const e=document.createElement("div");e.classList.add("stats-page");const t=document.createElement("h3");t.classList.add("page-heading"),t.innerText="Stats";const n=document.createElement("a");n.classList.add("home-button"),n.href="#",n.innerText="Home";const s=document.createElement("a");s.classList.add("categories-button"),s.href=`#${this.quizType}`,s.innerText="Categories";const a=document.createElement("header"),i=new Image;i.classList.add("aq-logo2"),i.src="./assets/aq-logo2.svg",i.alt="aq logo";const r=document.createElement("nav"),o=document.createElement("ul");o.classList.add("nav__list");const c=document.createElement("li"),d=document.createElement("li");c.appendChild(n),d.appendChild(s),o.appendChild(c),o.appendChild(d),r.appendChild(o),a.appendChild(i),a.appendChild(r),e.appendChild(a),e.appendChild(t);const l=document.createElement("div");l.classList.add("image__container"),this.imageData.forEach(((e,t)=>{const n=document.createElement("figure");n.classList.add("result__wrapper");const s=new Image;s.src=e[""],s.classList.add("result-image"),s.src=`https://github.com/NebelwerferT/image-data/raw/master/img/${e.imageNum}.jpg`;const a=document.createElement("figcaption");a.classList.add("result-desc");const i=document.createElement("h3");i.classList.add("mw-name"),i.innerText=e.name;const r=document.createElement("p");r.classList.add("mw-author-year"),r.innerText=`${e.author}, ${e.year}`,a.appendChild(i),a.appendChild(r),n.appendChild(s),n.appendChild(a),this.rightAnswers.includes(t)&&n.classList.add("right-answer-result"),l.appendChild(n)})),e.appendChild(l);const u=document.createElement("footer"),p=document.createElement("ul");p.classList.add("footer-info__list");const m=document.createElement("li");m.classList.add("footer-info__item"),m.classList.add("rss");const h=document.createElement("a");h.classList.add("rss-link"),h.href="https://rs.school/js/",h.target="_blank";const g=new Image;g.classList.add("rss-logo"),g.src="./assets/rss-logo.svg",g.alt="rss js logo";const f=document.createElement("li");f.classList.add("footer-info__item"),f.classList.add("github");const v=document.createElement("a");v.classList.add("github-link"),v.href="https://github.com/NebelwerferT",v.target="_blank",v.innerText="NebelwerferT";const w=document.createElement("li");return w.classList.add("footer-info__item"),w.classList.add("year"),w.innerText="2021",h.appendChild(g),m.appendChild(h),f.appendChild(v),p.appendChild(m),p.appendChild(f),p.appendChild(w),u.appendChild(p),e.appendChild(u),e}},L=class{static set(e){const t={};t.volume=e.volume,t.timeQuiz=e.timeQuiz,t.timeValue=e.timeValue,this.instance=t}static getView(){const e=document.createElement("div");e.classList.add("settings-window");const t=document.createElement("h3");t.classList.add("page-heading"),t.innerText="Settings";const n=document.createElement("div");n.classList.add("volume-settings"),n.classList.add("settings-window__item");const s=document.createElement("div");s.classList.add("time-quiz-settgings"),s.classList.add("settings-window__item");const a=document.createElement("div");a.classList.add("time-settings"),a.classList.add("settings-window__item");const i=document.createElement("h3");i.classList.add("volume-heading"),i.classList.add("settings-heading"),i.innerText="Volume";const r=document.createElement("h3");r.classList.add("time-quiz-heading"),r.classList.add("settings-heading"),r.innerText="Time game";const o=document.createElement("h3");o.classList.add("time-heading"),o.classList.add("settings-heading"),o.innerText="Time to answer";const c=document.createElement("div");c.classList.add("volume-control");const d=document.createElement("input");d.classList.add("volume-range"),d.type="range",d.value=this.instance.volume,d.style.background=`linear-gradient(to right, #FFBCA2 0%, #FFBCA2 ${d.value}%, #A4A4A4 ${d.value}%, #A4A4A4 100%)`;const l=document.createElement("div");l.classList.add("volume-button__container");const u=document.createElement("button");u.classList.add("volume-button"),u.classList.add("volume-mute");const p=document.createElement("button");p.classList.add("volume-button"),p.classList.add("volume-up");const m=document.createElement("div");m.classList.add("time-quiz-control");const h=document.createElement("input");h.classList.add("time-quiz-checkbox"),h.type="checkbox",h.id="time-flag",h.name="time-flag",h.checked=this.instance.timeQuiz;const g=document.createElement("label");g.classList.add("time-quiz-label"),g.for="time-flag",g.innerText=this.instance.timeQuiz?"On":"Off";const f=document.createElement("div");f.classList.add("time-control");const v=document.createElement("button");v.classList.add("time-button"),v.classList.add("dec"),v.innerText="-";const w=document.createElement("button");w.classList.add("time-button"),w.classList.add("inc"),w.innerText="+";const y=document.createElement("span");y.classList.add("time"),y.innerText=this.instance.timeValue;const L=document.createElement("div");L.classList.add("save-settings");const E=document.createElement("button");E.classList.add("save-button"),E.classList.add("default"),E.innerText="Default";const C=document.createElement("button");return C.classList.add("save-button"),C.classList.add("save"),C.innerText="Save",f.appendChild(v),f.appendChild(y),f.appendChild(w),m.appendChild(g),m.appendChild(h),n.appendChild(i),l.append(u),l.append(p),c.append(d),c.append(l),n.appendChild(c),s.appendChild(r),s.appendChild(m),a.appendChild(o),a.appendChild(f),L.appendChild(E),L.appendChild(C),e.appendChild(t),e.appendChild(n),e.appendChild(s),e.appendChild(a),e.appendChild(L),e}},E={renderMainPage:()=>class{static getView(){const e=document.createElement("div");e.classList.add("quiz-type-container");const t=document.createElement("img");t.classList.add("aq-logo"),t.alt="art quiz logo",t.src="./assets/aq-logo.svg";const n=document.createElement("a");n.classList.add("quiz-type"),n.classList.add("artists-quiz"),n.innerText="Artists quiz",n.href="#artists";const s=document.createElement("a");s.classList.add("quiz-type"),s.classList.add("pictures-quiz"),s.innerText="Pictures quiz",s.href="#pictures";const a=document.createElement("header"),i=document.createElement("button");i.classList.add("settings");const r=document.createElement("footer"),o=document.createElement("ul");o.classList.add("footer-info__list");const c=document.createElement("li");c.classList.add("footer-info__item"),c.classList.add("rss");const d=document.createElement("a");d.classList.add("rss-link"),d.href="https://rs.school/js/",d.target="_blank";const l=new Image;l.classList.add("rss-logo"),l.src="./assets/rss-logo.svg",l.alt="rss js logo";const u=document.createElement("li");u.classList.add("footer-info__item"),u.classList.add("github");const p=document.createElement("a");p.classList.add("github-link"),p.href="https://github.com/NebelwerferT",p.target="_blank",p.innerText="NebelwerferT";const m=document.createElement("li");m.classList.add("footer-info__item"),m.classList.add("year"),m.innerText="2021",d.appendChild(l),c.appendChild(d),u.appendChild(p),o.appendChild(c),o.appendChild(u),o.appendChild(m),r.appendChild(o);const h=document.createElement("div");return h.classList.add("main-page"),e.appendChild(n),e.appendChild(s),a.appendChild(i),h.appendChild(a),h.appendChild(t),h.appendChild(e),h.appendChild(r),h}}.getView(),screenCategoryView(e,t){g.create(t),g.setRouteName(e),g.fill()},renderCategoriesPage(e,t){return this.screenCategoryView(e,t),g.getView()},renderQuestionPage(e,t,n,s,a,i){return this.screenCategoryView(e,i),f.create(e,t,n,s,a),f.getView()},renderQuestion:e=>f.getQuestion(e).getView(),renderModalWindow:(e,t)=>(v.create(f.getQuestion(e),t),v.getView()),renderRoundResult:(e,t,n)=>(w.create(e,t,n),w.getView()),updCategoryStatus(e,t,n){g.updCategoryStatus(e,t,n)},renderStats(e,t,n,s){this.screenCategoryView(e,s);const a=g.getRightAnswers(t);return y.create(e,a,n),y.getView()},renderSettingsWindow:()=>L.getView()};let C={};const b=document.getElementById("root"),_={setData(e){C=e},async render(){const e=E.renderCategoriesPage(C.quizType,C.categories);await d(e,b,!0)}};let x={};const A=document.getElementById("root"),T={async viewNextQuestion(e,t,n,s,a){t.style.height||(t.style.height=`${t.scrollHeight}px`);const i=e;if(i.num<i.score.length){const e=E.renderQuestion(i.num);await d(e,t,!0),T.listenAnswers(i,t,n,s)}else{const e=E.renderRoundResult(i.rightAnswersCount,i.score.length,n.quizType);await d(e,t,!1),t.removeChild(a),s.roundendAudio.play();const r=`${i.rightAnswersCount}/${i.score.length}`;E.updCategoryStatus(n.categoryName,r,i.rightAnswers)}},async viewModalWindow(e,t,n,s){const a=e,i=a.rightAnswers.includes(a.num),r=E.renderModalWindow(a.num,i),o=document.createElement("div");o.classList.add("overlay"),t.appendChild(o),await d(r,t,!1),a.num+=1,document.querySelector(".next-button").addEventListener("click",T.viewNextQuestion.bind(null,a,t,n,s,r),{once:!0})},async checkAnswer(e,t,n,s,a){const i=t;e.classList.add("answer__item-active"),e.classList.contains("right-answer")?(i.score[i.num].classList.add("score__item-right"),a.correctAudio.play(),i.rightAnswers.push(i.num),i.rightAnswersCount+=1):(i.score[i.num].classList.add("score__item-incorrect"),a.incorrectAudio.play()),await T.viewModalWindow(i,n,s,a)},async timerEx(e,t,n,s,a){const i=t;let r=+e.innerText;const o=e,c=setInterval((async()=>{r-=1,o.innerText=r,0===r&&(clearInterval(c),i.score[i.num].classList.add("score__item-incorrect"),a.incorrectAudio.play(),await T.viewModalWindow(i,n,s,a))}),1e3);return window.addEventListener("hashchange",(()=>{clearInterval(c)})),c},async listenAnswers(e,t,n,s){const a=document.querySelector(".timer");let i;a&&(i=await T.timerEx(a,e,t,n,s)),document.querySelectorAll(".answer__item").forEach((a=>{a.addEventListener("click",(()=>{i&&clearInterval(i),T.checkAnswer(a,e,t,n,s)}),{once:!0})}))}},q={setData(e){x=e},async render(){const e=E.renderQuestionPage(x.quizType,x.imageData,x.answersData,x.settings,x.audio,x.categories);await d(e,A,!0);const t=e.querySelector(".question__container"),n=E.renderQuestion(0);await d(n,t,!0);const s={num:0,score:document.querySelectorAll(".score__item"),rightAnswers:[],rightAnswersCount:0},[a,i,r]=[document.querySelector(".correct"),document.querySelector(".incorrect"),document.querySelector(".roundend")],o={correctAudio:a,incorrectAudio:i,roundendAudio:r};T.listenAnswers(s,t,x,o)}};let S={};const D=document.getElementById("root"),k={setData(e){S=e},async render(){const e=E.renderStats(S.quizType,S.categoryName,S.imageData,S.categories);await d(e,D,!0)}},I=document.getElementById("root"),N=async(e,t)=>{const n=t.animate([{transform:"translate3D(0, 0, 0)"},{transform:"translate3D(0, -1000px, 0)"}],{duration:700});await n.finished,e.removeChild(t)},j={async render(){const e=E.renderMainPage();await d(e,I,!0);const t=document.querySelector(".settings");t.addEventListener("click",(async()=>{t.style.pointerEvents="none",await $.loadSettings();const e=E.renderSettingsWindow();await d(e,I,!1);const n=document.querySelector(".volume-range"),s=document.querySelector(".time-quiz-checkbox"),a=document.querySelector(".time-quiz-label"),i=document.querySelector(".volume-mute"),r=document.querySelector(".volume-up");n.addEventListener("input",l),i.addEventListener("click",u.bind(null,n)),r.addEventListener("click",p.bind(null,n)),s.addEventListener("change",(e=>{a.innerText=e.target.checked?"On":"Off"}));const o=document.querySelector(".dec"),c=document.querySelector(".inc"),m=document.querySelector(".time");o.addEventListener("click",(()=>{+m.innerText>5&&(m.innerText=+m.innerText-5)})),c.addEventListener("click",(()=>{+m.innerText<30&&(m.innerText=+m.innerText+5)}));const h=document.querySelector(".default"),g=document.querySelector(".save");h.addEventListener("click",(async()=>{e.style.pointerEvents="none",await $.defSettings(),t.style.pointerEvents="auto",N(I,e)})),g.addEventListener("click",(async()=>{e.style.pointerEvents="none";const n=document.querySelector(".volume-range").value,a=s.checked,i=m.innerText;await $.setSettings({volume:n,timeQuiz:a,timeValue:i}),t.style.pointerEvents="auto",N(I,e)}))}))}},$={async mainRoute(){j.render()},async categoriesRoute(e){if(e.id){const t={quizType:e.type,categoryName:e.id,imageData:await c.getData(e.id,e.type),answersData:[],settings:await c.getSettings(),audio:await c.getAudio(),categories:await c.getCategories()};Object.keys(t.imageData).forEach((n=>{const s="artists"===e.type?"author":"imageNum",a=t.imageData[n][s];t.answersData.push(c.getAnswers(s,a))})),t.answersData=await Promise.all(t.answersData),q.setData(t),q.render()}else{const t={quizType:e.type,categories:await c.getCategories()};_.setData(t),_.render()}},async artistsRoute(e){e.type="artists",this.categoriesRoute(e)},async picturesRoute(e){e.type="pictures",this.categoriesRoute(e)},async statsRoute(e){const t={quizType:e.id,categoryName:e.sub,imageData:await c.getData(e.sub),categories:await c.getCategories()};k.setData(t),k.render()},async loadSettings(){L.set(await c.getSettings())},async setSettings(e){await c.setSettings(e),L.set(e)},async defSettings(){const e=await c.getDefSettings();this.setSettings(e)}},z=()=>{const{name:e,params:t}=(()=>{const e=window.location.hash?window.location.hash.slice(1):"",[t,n,s]=e.split("/");return{name:t,params:{id:n,sub:s}}})();e?$[`${e}Route`](t):$.mainRoute()},O={init(){window.addEventListener("hashchange",z),z()}};(async()=>{O.init()})()},345:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/aq-logo.svg"},21:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/aq-logo2.svg"},432:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/correct-answer.mp3"},622:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/correct.svg"},387:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/cup.svg"},540:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/incorrect-answer.mp3"},458:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/incorrect.svg"},829:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/minus.svg"},164:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/plus.svg"},549:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/round-end.mp3"},350:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/rss-logo.svg"},369:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/settings.svg"},901:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/volume-mute.svg"},658:(e,t,n)=>{"use strict";e.exports=n.p+"./assets/volume-up.svg"}},c={};function d(e){var t=c[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var n=c[e]={id:e,exports:{}};try{var s={id:e,module:n,factory:o[e],require:d};d.i.forEach((function(e){e(s)})),n=s.module,s.factory.call(n.exports,n,n.exports,s.require)}catch(e){throw n.error=e,e}return n.exports}d.m=o,d.c=c,d.i=[],d.hu=e=>e+"."+d.h()+".hot-update.js",d.miniCssF=e=>{},d.hmrF=()=>"main."+d.h()+".hot-update.json",d.h=()=>"b3ff900f03b1c49b3bdc",d.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),d.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="art-quiz:",d.l=(n,s,a,i)=>{if(e[n])e[n].push(s);else{var r,o;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+a){r=u;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,d.nc&&r.setAttribute("nonce",d.nc),r.setAttribute("data-webpack",t+a),r.src=n),e[n]=[s];var p=(t,s)=>{r.onerror=r.onload=null,clearTimeout(m);var a=e[n];if(delete e[n],r.parentNode&&r.parentNode.removeChild(r),a&&a.forEach((e=>e(s))),t)return t(s)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=p.bind(null,r.onerror),r.onload=p.bind(null,r.onload),o&&document.head.appendChild(r)}},(()=>{var e,t,n,s,a={},i=d.c,r=[],o=[],c="idle";function l(e){c=e;for(var t=[],n=0;n<o.length;n++)t[n]=o[n].call(null,e);return Promise.all(t)}function u(e){if(0===t.length)return e();var n=t;return t=[],Promise.all(n).then((function(){return u(e)}))}function p(e){if("idle"!==c)throw new Error("check() is only allowed in idle status");return l("check").then(d.hmrM).then((function(s){return s?l("prepare").then((function(){var a=[];return t=[],n=[],Promise.all(Object.keys(d.hmrC).reduce((function(e,t){return d.hmrC[t](s.c,s.r,s.m,e,n,a),e}),[])).then((function(){return u((function(){return e?h(e):l("ready").then((function(){return a}))}))}))})):l(g()?"ready":"idle").then((function(){return null}))}))}function m(e){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status")})):h(e)}function h(e){e=e||{},g();var t=n.map((function(t){return t(e)}));n=void 0;var a=t.map((function(e){return e.error})).filter(Boolean);if(a.length>0)return l("abort").then((function(){throw a[0]}));var i=l("dispose");t.forEach((function(e){e.dispose&&e.dispose()}));var r,o=l("apply"),c=function(e){r||(r=e)},d=[];return t.forEach((function(e){if(e.apply){var t=e.apply(c);if(t)for(var n=0;n<t.length;n++)d.push(t[n])}})),Promise.all([i,o]).then((function(){return r?l("fail").then((function(){throw r})):s?h(e).then((function(e){return d.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):l("idle").then((function(){return d}))}))}function g(){if(s)return n||(n=[]),Object.keys(d.hmrI).forEach((function(e){s.forEach((function(t){d.hmrI[e](t,n)}))})),s=void 0,!0}d.hmrD=a,d.i.push((function(h){var g,f,v,w,y=h.module,L=function(n,s){var a=i[s];if(!a)return n;var o=function(t){if(a.hot.active){if(i[t]){var o=i[t].parents;-1===o.indexOf(s)&&o.push(s)}else r=[s],e=t;-1===a.children.indexOf(t)&&a.children.push(t)}else console.warn("[HMR] unexpected require("+t+") from disposed module "+s),r=[];return n(t)},d=function(e){return{configurable:!0,enumerable:!0,get:function(){return n[e]},set:function(t){n[e]=t}}};for(var p in n)Object.prototype.hasOwnProperty.call(n,p)&&"e"!==p&&Object.defineProperty(o,p,d(p));return o.e=function(e){return function(e){switch(c){case"ready":return l("prepare"),t.push(e),u((function(){return l("ready")})),e;case"prepare":return t.push(e),e;default:return e}}(n.e(e))},o}(h.require,h.id);y.hot=(g=h.id,f=y,w={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:v=e!==g,_requireSelf:function(){r=f.parents.slice(),e=v?void 0:g,d(g)},active:!0,accept:function(e,t,n){if(void 0===e)w._selfAccepted=!0;else if("function"==typeof e)w._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var s=0;s<e.length;s++)w._acceptedDependencies[e[s]]=t||function(){},w._acceptedErrorHandlers[e[s]]=n;else w._acceptedDependencies[e]=t||function(){},w._acceptedErrorHandlers[e]=n},decline:function(e){if(void 0===e)w._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)w._declinedDependencies[e[t]]=!0;else w._declinedDependencies[e]=!0},dispose:function(e){w._disposeHandlers.push(e)},addDisposeHandler:function(e){w._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=w._disposeHandlers.indexOf(e);t>=0&&w._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":n=[],Object.keys(d.hmrI).forEach((function(e){d.hmrI[e](g,n)})),l("ready");break;case"ready":Object.keys(d.hmrI).forEach((function(e){d.hmrI[e](g,n)}));break;case"prepare":case"check":case"dispose":case"apply":(s=s||[]).push(g)}},check:p,apply:m,status:function(e){if(!e)return c;o.push(e)},addStatusHandler:function(e){o.push(e)},removeStatusHandler:function(e){var t=o.indexOf(e);t>=0&&o.splice(t,1)},data:a[g]},e=void 0,w),y.parents=r,y.children=[],r=[],h.require=L})),d.hmrC={},d.hmrI={}})(),(()=>{var e;d.g.importScripts&&(e=d.g.location+"");var t=d.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),d.p=e})(),n=(e,t,n,s)=>{var a=document.createElement("link");return a.rel="stylesheet",a.type="text/css",a.onerror=a.onload=i=>{if(a.onerror=a.onload=null,"load"===i.type)n();else{var r=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=r,c.request=o,a.parentNode.removeChild(a),s(c)}},a.href=t,document.head.appendChild(a),a},s=(e,t)=>{for(var n=document.getElementsByTagName("link"),s=0;s<n.length;s++){var a=(r=n[s]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(a===e||a===t))return r}var i=document.getElementsByTagName("style");for(s=0;s<i.length;s++){var r;if((a=(r=i[s]).getAttribute("data-href"))===e||a===t)return r}},a=[],i=[],r=e=>({dispose:()=>{for(var e=0;e<a.length;e++){var t=a[e];t.parentNode&&t.parentNode.removeChild(t)}a.length=0},apply:()=>{for(var e=0;e<i.length;e++)i[e].rel="stylesheet";i.length=0}}),d.hmrC.miniCss=(e,t,o,c,l,u)=>{l.push(r),e.forEach((e=>{var t=d.miniCssF(e),r=d.p+t,o=s(t,r);o&&c.push(new Promise(((t,s)=>{var c=n(e,r,(()=>{c.as="style",c.rel="preload",t()}),s);a.push(o),i.push(c)})))}))},(()=>{var e,t,n,s,a=d.hmrS_jsonp=d.hmrS_jsonp||{179:0},i={};function r(e){return new Promise(((t,n)=>{i[e]=t;var s=d.p+d.hu(e),a=new Error;d.l(s,(t=>{if(i[e]){i[e]=void 0;var s=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;a.message="Loading hot update chunk "+e+" failed.\n("+s+": "+r+")",a.name="ChunkLoadError",a.type=s,a.request=r,n(a)}}))}))}function o(i){function r(e){for(var t=[e],n={},s=t.map((function(e){return{chain:[e],id:e}}));s.length>0;){var a=s.pop(),i=a.id,r=a.chain,c=d.c[i];if(c&&(!c.hot._selfAccepted||c.hot._selfInvalidated)){if(c.hot._selfDeclined)return{type:"self-declined",chain:r,moduleId:i};if(c.hot._main)return{type:"unaccepted",chain:r,moduleId:i};for(var l=0;l<c.parents.length;l++){var u=c.parents[l],p=d.c[u];if(p){if(p.hot._declinedDependencies[i])return{type:"declined",chain:r.concat([u]),moduleId:i,parentId:u};-1===t.indexOf(u)&&(p.hot._acceptedDependencies[i]?(n[u]||(n[u]=[]),o(n[u],[i])):(delete n[u],t.push(u),s.push({chain:r.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function o(e,t){for(var n=0;n<t.length;n++){var s=t[n];-1===e.indexOf(s)&&e.push(s)}}d.f&&delete d.f.jsonpHmr,e=void 0;var c={},l=[],u={},p=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var m in t)if(d.o(t,m)){var h,g=t[m],f=!1,v=!1,w=!1,y="";switch((h=g?r(m):{type:"disposed",moduleId:m}).chain&&(y="\nUpdate propagation: "+h.chain.join(" -> ")),h.type){case"self-declined":i.onDeclined&&i.onDeclined(h),i.ignoreDeclined||(f=new Error("Aborted because of self decline: "+h.moduleId+y));break;case"declined":i.onDeclined&&i.onDeclined(h),i.ignoreDeclined||(f=new Error("Aborted because of declined dependency: "+h.moduleId+" in "+h.parentId+y));break;case"unaccepted":i.onUnaccepted&&i.onUnaccepted(h),i.ignoreUnaccepted||(f=new Error("Aborted because "+m+" is not accepted"+y));break;case"accepted":i.onAccepted&&i.onAccepted(h),v=!0;break;case"disposed":i.onDisposed&&i.onDisposed(h),w=!0;break;default:throw new Error("Unexception type "+h.type)}if(f)return{error:f};if(v)for(m in u[m]=g,o(l,h.outdatedModules),h.outdatedDependencies)d.o(h.outdatedDependencies,m)&&(c[m]||(c[m]=[]),o(c[m],h.outdatedDependencies[m]));w&&(o(l,[h.moduleId]),u[m]=p)}t=void 0;for(var L,E=[],C=0;C<l.length;C++){var b=l[C],_=d.c[b];_&&(_.hot._selfAccepted||_.hot._main)&&u[b]!==p&&!_.hot._selfInvalidated&&E.push({module:b,require:_.hot._requireSelf,errorHandler:_.hot._selfAccepted})}return{dispose:function(){var e;n.forEach((function(e){delete a[e]})),n=void 0;for(var t,s=l.slice();s.length>0;){var i=s.pop(),r=d.c[i];if(r){var o={},u=r.hot._disposeHandlers;for(C=0;C<u.length;C++)u[C].call(null,o);for(d.hmrD[i]=o,r.hot.active=!1,delete d.c[i],delete c[i],C=0;C<r.children.length;C++){var p=d.c[r.children[C]];p&&(e=p.parents.indexOf(i))>=0&&p.parents.splice(e,1)}}}for(var m in c)if(d.o(c,m)&&(r=d.c[m]))for(L=c[m],C=0;C<L.length;C++)t=L[C],(e=r.children.indexOf(t))>=0&&r.children.splice(e,1)},apply:function(e){for(var t in u)d.o(u,t)&&(d.m[t]=u[t]);for(var n=0;n<s.length;n++)s[n](d);for(var a in c)if(d.o(c,a)){var r=d.c[a];if(r){L=c[a];for(var o=[],p=[],m=[],h=0;h<L.length;h++){var g=L[h],f=r.hot._acceptedDependencies[g],v=r.hot._acceptedErrorHandlers[g];if(f){if(-1!==o.indexOf(f))continue;o.push(f),p.push(v),m.push(g)}}for(var w=0;w<o.length;w++)try{o[w].call(null,L)}catch(t){if("function"==typeof p[w])try{p[w](t,{moduleId:a,dependencyId:m[w]})}catch(n){i.onErrored&&i.onErrored({type:"accept-error-handler-errored",moduleId:a,dependencyId:m[w],error:n,originalError:t}),i.ignoreErrored||(e(n),e(t))}else i.onErrored&&i.onErrored({type:"accept-errored",moduleId:a,dependencyId:m[w],error:t}),i.ignoreErrored||e(t)}}}for(var y=0;y<E.length;y++){var C=E[y],b=C.module;try{C.require(b)}catch(t){if("function"==typeof C.errorHandler)try{C.errorHandler(t,{moduleId:b,module:d.c[b]})}catch(n){i.onErrored&&i.onErrored({type:"self-accept-error-handler-errored",moduleId:b,error:n,originalError:t}),i.ignoreErrored||(e(n),e(t))}else i.onErrored&&i.onErrored({type:"self-accept-errored",moduleId:b,error:t}),i.ignoreErrored||e(t)}}return l}}}self.webpackHotUpdateart_quiz=(e,n,a)=>{for(var r in n)d.o(n,r)&&(t[r]=n[r]);a&&s.push(a),i[e]&&(i[e](),i[e]=void 0)},d.hmrI.jsonp=function(e,a){t||(t={},s=[],n=[],a.push(o)),d.o(t,e)||(t[e]=d.m[e])},d.hmrC.jsonp=function(i,c,l,u,p,m){p.push(o),e={},n=c,t=l.reduce((function(e,t){return e[t]=!1,e}),{}),s=[],i.forEach((function(t){d.o(a,t)&&void 0!==a[t]&&(u.push(r(t)),e[t]=!0)})),d.f&&(d.f.jsonpHmr=function(t,n){e&&!d.o(e,t)&&d.o(a,t)&&void 0!==a[t]&&(n.push(r(t)),e[t]=!0)})},d.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(d.p+d.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))}})(),d(604)})();